(function(d,l){"function"===typeof define&&define.amd?define(["chartist"],function(a){return d.returnExportsGlobal=l(a)}):"object"===typeof exports?module.exports=l(require("chartist")):d["Chartist.plugins.legend"]=l(d.Chartist)})(this,function(d){var l={className:"",classNames:!1,removeAll:!1,legendNames:!1,clickable:!0,onClick:null,position:"top"};d.plugins=d.plugins||{};d.plugins.legend=function(a){function v(b,h){return b-h}if(a&&a.position){if(!("top"===a.position||"bottom"===a.position||a.position instanceof
HTMLElement))throw Error("The position you entered is not a valid position");if(a.position instanceof HTMLElement){var q=a.position;delete a.position}}a=d.extend({},l,a);q&&(a.position=q);return function(b){var h=b.container.querySelector(".ct-legend");h&&h.parentNode.removeChild(h);a.clickable&&(h=b.data.series.map(function(c,e){"object"!==typeof c&&(c={value:c});c.className=c.className||b.options.classNames.series+"-"+d.alphaNumerate(e);return c}),b.data.series=h);var f=document.createElement("ul");
h=b instanceof d.Pie;f.className="ct-legend";b instanceof d.Pie&&f.classList.add("ct-legend-inside");"string"===typeof a.className&&0<a.className.length&&f.classList.add(a.className);b.options.width&&(f.style.cssText="width: "+b.options.width+"px;margin: 0 auto;");var k=[],w=b.data.series.slice(0),m=b.data.series,n=h&&b.data.labels&&b.data.labels.length;if(n){var x=b.data.labels.slice(0);m=b.data.labels}m=a.legendNames||m;var y=Array.isArray(a.classNames)&&a.classNames.length===m.length;m.forEach(function(c,
e){var g=document.createElement("li");g.className="ct-series-"+e;y&&(g.className+=" "+a.classNames[e]);g.setAttribute("data-legend",e);g.textContent=c.name||c;f.appendChild(g)});b.on("created",function(c){if(a.position instanceof HTMLElement)a.position.insertBefore(f,null);else switch(a.position){case "top":b.container.insertBefore(f,b.container.childNodes[0]);break;case "bottom":b.container.insertBefore(f,null)}});a.clickable&&f.addEventListener("click",function(c){var e=c.target;if(e.parentNode===
f&&e.hasAttribute("data-legend")){c.preventDefault();var g=parseInt(e.getAttribute("data-legend")),r=k.indexOf(g);-1<r?(k.splice(r,1),e.classList.remove("inactive")):a.removeAll?(k.push(g),e.classList.add("inactive")):1<b.data.series.length?(k.push(g),e.classList.add("inactive")):(k=[],Array.prototype.slice.call(f.childNodes).forEach(function(p){p.classList.remove("inactive")}));var t=w.slice(0);if(n)var u=x.slice(0);k.sort(v).reverse();k.forEach(function(p){t.splice(p,1);n&&u.splice(p,1)});if(a.onClick)a.onClick(b,
c);b.data.series=t;n&&(b.data.labels=u);b.update()}})}};return d.plugins.legend});